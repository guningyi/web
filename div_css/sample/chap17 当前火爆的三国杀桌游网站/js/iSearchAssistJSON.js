function iSearchAssistJSON(C){var A="";C.interface_url=C.interface_url||"i_search_assist.php";C.handler_name=C.handler_name||"parent.suggest_ctxt";C.callback=C.callback||"load_kw_candidate";C.selected_bgcolor=C.selected_bgcolor||"#ECF5FA";C.max=C.max||10;var D;var H=function(j){if(D){return }try{j=j||window.event;if(j&&j.type=="readystatechange"&&this.readyState!="complete"){return }F.onload=F.onreadystatechange=null;var S=F.contentWindow||window.frames.suggest_frame;var I=S.document;if(!C.show_data_graph){C.array_styles=C.array_styles||[];C.array_styles[C.array_styles.length]=".suggest_data_graph {display:none}"}if(C.array_styles){I.write('<style type="text/css"><!-- '+C.array_styles.join("")+"--></style>")}I.write('<body><div id="suggest_area"></div></body>');I.close();I.body.scroll="no";var J=I.getElementById("suggest_area");J.onselectstart=J.oncontextmenu=function(){return false};if(C.clone_styles){for(var d=0;d<C.clone_styles.length;d++){E.css(C.clone_styles[d],C.input_jquery.css(C.clone_styles[d]))}}var f="suggest_data_";var K=C.handler_name;var L=K.replace(/^[^.]*\.(.*)$/,"$1");if(!window[L]){window[L]={}}var g=function(){E.css("visibility","visible")};var l=function(){E.css("visibility","hidden")};var k=function(e,i){if(!arguments.length){var p=I.getElementsByTagName("TABLE")[0];e=p.offsetWidth;i=p.offsetHeight;if(B){e+=3;i++}}F.style.width=e+"px";F.style.height=i+"px"};window.resize_suggest=k;var a=function(){return E.css("visibility")=="visible"};var V=function(e){return I.getElementById(e)};window[C.callback]=function(p){if(!p||p.length==0){return }var i=jQuery("#"+A).get(0);var q=YAHOO.util.Dom.getXY(i);F.style.left=q[0]+"px";F.style.top=(q[1]+i.offsetHeight)-2+"px";F.style.width=i.offsetWidth+"px";var e={prefix:f,handler:K,data:p};i_assist_tmpl(e,J);setTimeout("resize_suggest()",0);m=p;M=-1;if(p.length>0){g()}else{l()}};var X=function(p){if(p.match(/^\s*$/)){return false}var i=["callback="+C.callback,"q="+encodeURIComponent(p),"ie=utf8","max="+C.max];if(C.array_queries){i=i.concat(C.array_queries)}var e=C.interface_url+"?"+i.join("&");jsonp.load("jsonp_suggest",e,"UTF-8");return e};var U=C.input_jquery.val();var m=[];var M=-1;var Z=function(e){if(typeof e!="undefined"){o();M=e}if(m[M]){var p=V(f+M);p.backgroundColorOrg=p.style.backgroundColor;p.style.backgroundColor=C.selected_bgcolor}};window[L]["focus"]=Z;var o=function(){if(m[M]){var e=V(f+M);e.style.backgroundColor=e.backgroundColorOrg}};var O=function(){if(M<0){M=0}else{o();M++}if(M>=m.length){M=-1;return }Z()};var P=function(){if(M<0){M=m.length-1}else{o();M--;if(M==-1){return }}Z()};var c=function(){var e=m[M];if(e){if(C.input_jquery.val()!=e.word){C.input_jquery.val(e.word);U=e.word;X(e.word+" ");return false}}return true};var Y;window[L]["suggest_mousedown"]=function(i){Y=(new Date()).getTime()};window[L]["suggest_click"]=function(i){jQuery("#"+A).get(0).focus();if(c()){jQuery("#"+A).parents("form").get(0).onsubmit()}else{return false}};var T={"9":"tab","16":"shift","17":"ctl","27":"esc","18":"alt","19":"pause/break","20":"caps lock","33":"pageup","34":"pagedown","35":"end","36":"home","37":"left","38":"up","40":"down","44":"print screen","45":"ins"};var b=false;var R=function(e){if(typeof e=="object"){e=e.keyCode}if(e==16){b=false}if(e==13&&M!=-1){return false}if(T[e]){return false}};var h=function(){var e=jQuery("#"+A).val();if(U==e){return }U=e;if(e==""){m=[];l()}else{X(e)}};var n;var Q=function(){if(!n){n=setInterval(h,100)}};var N=function(){if(!n){return }clearInterval(n);n=null};var W={keyup:function(e){A=this.id;(R(e)!=false)&&h()},keypress:function(e){A=this.id;(R(e)!=false)&&Q()},keydown:function(e){if(typeof e=="object"){e=e.keyCode}if(e==16){b=true}switch(e){case 9:if(!a()){return true}if(b){P()}else{O()}break;case 40:O();break;case 38:P();break;case 27:l();break;case 13:if(!c()){break}default:return }return false},blur:function(p){var i=(new Date()).getTime();if(Y+100>i){return }N();l()},focus:function(i){if(m.length==0){return }g()}};if(window.opera||(navigator.userAgent.indexOf("Gecko")>=0&&navigator.userAgent.indexOf("KHTML")==-1)){C.input_jquery.keypress(W.keypress)}else{C.input_jquery.keyup(W.keyup)}C.input_jquery.keydown(W.keydown).blur(W.blur).focus(W.focus);if(G){clearInterval(G)}D=true}catch(j){}};var G;var B=navigator.userAgent.match(/AppleWebKit\/4\d\d/);C.input_jquery.attr("autocomplete","off");var F=document.createElement("IFRAME");var E=jQuery(F);F.name="suggest_frame";F.id="suggest_frame";F.frameBorder=0;F.scrolling="no";E.css("position","absolute").css("visibility","hidden").css("zIndex",1000).css("top","0px").css("height","0px").css("border","0px");F.onload=F.onreadystatechange=H;if(window.location.protocol=="https:"&&window.navigator.userAgent.match("MSIE 6")){F.src="javascript:"}else{F.src="about:blank"}jQuery(document.body).append(F);if(B){G=setInterval(H,100)}};


